===================================================================================================================
# ARG

ARG <name>[=<default value>]
Инструкция ARG определяет переменную, которую пользователи могут передать сборщику во время сборки с помощью docker build команды, использующей --build-arg <varname>=<value> флаг. 
Т.е. только для сборки!
Если пользователь указывает аргумент сборки, который не был определен в Dockerfile, сборка выводит предупреждение.

[Warning] One or more build-args [foo] were not consumed.

Dockerfile может включать одну или несколько ARG инструкций. Например, следующий допустимый файл Dockerfile:

FROM busybox
ARG user1
ARG buildno
# ...

Предупреждение:
Не рекомендуется использовать переменные времени сборки для передачи секретов, таких как ключи GitHub, учетные данные пользователя и т. д. Значения переменных времени сборки видны любому пользователю образа с помощью команды docker history.

Обратитесь к этому RUN --mount=type=secret разделу, чтобы узнать о безопасных способах использования секретов при создании образов.

Значения по умолчанию
Инструкция ARG может дополнительно включать значение по умолчанию:

FROM busybox
ARG user1=someuser
ARG buildno=1
# ...
Если ARG инструкция имеет значение по умолчанию и если во время сборки значение не было передано, сборщик использует значение по умолчанию.

We can also use ARG for setting base image:

ARG BASE_IMAGE   --> работает только в инструкции FROM
FROM ${BASE_IMAGE}
...
Usage:
docker build --build-arg BASE_IMAGE=centos:7 .